# 🌟 Spectre MessageHub

## Overview
A modern .NET 9 solution that provides a **CloudEvents-compatible ingestion API** for Guidewire events with built-in validation and deduplication capabilities.

## 🏗️ Architecture Highlights

### Core Components
- **API Layer**: ASP.NET Core web API exposing CloudEvents endpoints
- **Application Layer**: Clean architecture with abstractions for validation and deduplication
- **Aspire Integration**: Modern distributed application orchestration
- **Load Testing**: Built-in load generator for performance validation

### Key Features
- ✅ **CloudEvents Compliance** - Standards-based event ingestion
- ✅ **Event Validation** - Comprehensive input validation pipeline  
- ✅ **Deduplication** - Prevents duplicate event processing
- ✅ **Integration Testing** - Full HTTP flow coverage with xUnit
- ✅ **Modern .NET 9** - Latest framework features and performance

## 📁 Repository Structure

```
spectre-messagehub/
├── src/
│   ├── Spectre.MessagingHub.Api/        # HTTP API endpoints
│   ├── Spectre.MessagingHub.Application/ # Business logic & abstractions
│   ├── Spectre.AppHost/                 # Aspire orchestration
│   └── Spectre.LoadGenerator/           # Performance testing
├── test/
│   └── Spectre.MessagingHub.Tests/      # Integration & unit tests
└── docs/                               # Architecture & requirements
```

## 🚀 Current Status

### ✅ Completed
- Core API structure with CloudEvents support
- Validation and deduplication logic
- Comprehensive integration test suite
- Aspire-based application hosting
- Clean architecture implementation

### 🔄 In Progress
- Production persistence layer
- Downstream event publishing
- CI/CD pipeline definitions
- Infrastructure as Code

## 🧪 Testing Coverage
The project includes robust testing with multiple response scenarios:
- **202 Accepted** - Valid new events
- **409 Conflict** - Duplicate events detected  
- **400 Bad Request** - Malformed requests
- **403 Forbidden** - Authentication failures
- **422 Unprocessable** - Validation errors

## 🎯 Next Steps
1. Implement durable deduplication storage
2. Add downstream message queue publishing
3. Complete CI/CD pipeline setup
4. Add production monitoring & observability

---
*Built with modern .NET patterns and cloud-native best practices* 🔧


## 📱 Live-View Operations Demo
This content was updated using the `live-view-update_content` operation in **append** mode!

Available operations:
- ✏️ **Create** - `show_content`
- 📋 **List** - `list_content` 
- 👀 **View** - `view_content`
- 🔄 **Update** - `update_content` (append/replace)
- 🗑️ **Delete** - `remove_content`
- 💬 **Chat** - `subscribe_chat` + `get_chat_messages`